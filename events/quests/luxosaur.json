{
  "meta": {
    "title": "Luxosaur Chronicles",
    "description": "Travel through time to find the ancient Dinosaur of Light!",
    "status": "active"
  },
  "startMap": "map_1",
  "maps": {
    "map_1": {
      "layout": [[9,9,9,9,9,9,9,9,9,9,9,9],[9,4,4,4,4,9,4,4,4,4,4,9],[9,4,9,9,4,9,4,9,9,9,4,9],[9,4,9,9,4,4,4,9,9,9,4,9],[9,4,9,9,9,1,9,9,9,9,4,9],[9,4,4,4,4,4,4,4,4,4,4,9],[9,9,9,9,9,4,9,9,9,9,9,9],[9,0,0,0,9,4,9,0,0,0,0,9],[9,0,0,0,9,8,9,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 5, "y": 8, "toMap": "map_2" }],
      "npcs": [{ "x": 5, "y": 6, "name": "Dr. Chronos", "sprite": "üë®‚Äçüî¨", "dialogue": ["The time engine is cold!", "Solve 3 problems to warm it up."], "action": "gate_math_1", "hideOnFlag": "flag_math_1" }]
    },
    "map_2": {
      "layout": [[1,1,1,1,1,8,1,1,1,1,1,1],[1,4,4,1,4,4,4,4,4,4,4,1],[1,4,1,1,1,1,1,1,1,1,4,1],[1,4,1,5,5,5,5,5,5,1,4,1],[1,4,1,5,1,1,1,1,5,1,4,1],[1,4,4,4,1,1,1,1,5,4,4,1],[1,1,1,4,1,1,1,1,5,1,1,1],[1,4,4,4,5,5,5,5,5,4,4,1],[1,4,1,1,1,1,1,1,1,1,4,1],[1,1,1,1,1,1,1,1,1,1,1,1]],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 5, "y": 0, "toMap": "map_3" }],
      "npcs": [{ "x": 5, "y": 1, "name": "Rift Shadow", "sprite": "üåë", "dialogue": ["Answer me to stabilize the rift!"], "action": "gate_math_2", "hideOnFlag": "flag_math_2" }]
    },
    "map_3": {
      "layout": [[1,1,1,1,1,1,1,1,1,1,1,1],[1,4,4,4,1,1,1,1,4,4,4,1],[1,4,1,4,1,1,1,1,4,1,4,1],[1,4,1,4,4,4,4,4,4,1,4,1],[1,1,1,1,1,4,1,1,1,1,1,1],[1,1,1,1,1,4,1,1,1,1,1,1],[1,4,4,4,4,4,4,4,4,4,4,1],[1,4,1,1,1,1,1,1,1,1,4,1],[1,8,1,1,1,1,1,1,1,1,4,1],[1,1,1,1,1,1,1,1,1,1,1,1]],
      "start": { "x": 10, "y": 1 },
      "portals": [{ "x": 1, "y": 8, "toMap": "map_4" }],
      "npcs": [{ "x": 5, "y": 4, "name": "Ice Mammoth", "sprite": "üêò", "dialogue": ["The path is frozen!", "Solve to melt the ice."], "action": "gate_math_3", "hideOnFlag": "flag_math_3" }]
    },
    "map_4": {
      "layout": [[3,3,3,3,3,3,3,3,3,3,3,3],[3,0,0,0,3,3,3,3,0,0,0,3],[3,0,3,0,3,3,3,3,0,3,0,3],[3,0,3,4,4,4,4,4,4,3,0,3],[3,3,3,3,3,4,3,3,3,3,3,3],[3,3,3,3,3,4,3,3,3,3,3,3],[3,4,4,4,4,4,4,4,4,4,4,3],[3,4,3,3,3,3,3,3,3,3,4,3],[3,8,3,3,3,3,3,3,3,3,4,3],[3,3,3,3,3,3,3,3,3,3,3,3]],
      "start": { "x": 10, "y": 1 },
      "portals": [{ "x": 1, "y": 8, "toMap": "map_5" }],
      "npcs": [{ "x": 5, "y": 4, "name": "Ancient Swamper", "sprite": "üêä", "dialogue": ["Answer or stay stuck in the mud!"], "action": "gate_math_4", "hideOnFlag": "flag_math_4" }]
    },
    "map_5": {
      "layout": [[9,9,9,9,9,9,9,9,9,9,9,9],[9,4,4,4,4,4,4,4,4,9,4,9],[9,4,9,9,9,9,9,9,9,9,4,9],[9,4,4,4,4,4,4,4,4,9,4,9],[9,9,9,9,9,9,9,9,4,9,4,9],[9,4,4,4,4,4,4,4,4,9,4,9],[9,4,9,9,9,9,9,9,9,9,4,9],[9,4,4,4,4,4,4,4,4,4,4,9],[9,9,9,9,9,9,9,9,9,9,8,9],[9,9,9,9,9,9,9,9,9,9,9,9]],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 10, "y": 8, "toMap": "map_6" }],
      "npcs": [{ "x": 8, "y": 3, "name": "Prehistoric Golem", "sprite": "üóø", "dialogue": ["Rock solid math needed here!"], "action": "gate_math_5", "hideOnFlag": "flag_math_5" }]
    },
    "map_6": {
      "layout": [[2,2,2,2,2,2,2,2,2,2,2,2],[2,4,4,4,4,4,4,4,4,4,4,2],[2,4,2,2,2,2,2,2,2,2,4,2],[2,4,2,0,0,0,0,0,0,2,4,2],[2,4,4,4,2,2,2,2,0,2,4,2],[2,2,2,4,2,2,2,2,0,2,2,2],[2,4,4,4,0,0,0,0,0,4,4,2],[2,4,2,2,2,2,2,2,2,2,4,2],[2,8,2,2,2,2,2,2,2,2,4,2],[2,2,2,2,2,2,2,2,2,2,2,2]],
      "start": { "x": 10, "y": 1 },
      "portals": [{ "x": 1, "y": 8, "toMap": "map_7" }],
      "npcs": [{ "x": 5, "y": 1, "name": "Jungle Keeper", "sprite": "ü¶ñ", "dialogue": ["The volcano is near! Stay sharp!"], "action": "gate_math_6", "hideOnFlag": "flag_math_6" }]
    },
    "map_7": {
      "layout": [[1,1,1,1,1,1,1,1,1,1,1,1],[1,4,4,4,4,4,4,4,4,4,4,1],[1,4,9,9,9,4,4,9,9,9,4,1],[1,4,4,4,4,4,4,4,4,4,4,1],[1,9,9,9,9,4,9,9,9,9,9,1],[1,4,4,4,4,4,4,4,4,4,4,1],[1,4,9,9,9,9,9,9,9,9,4,1],[1,4,4,4,4,4,4,4,4,4,4,1],[1,1,1,1,1,1,1,1,1,1,8,1],[1,1,1,1,1,1,1,1,1,1,1,1]],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 10, "y": 8, "toMap": "map_8" }],
      "npcs": [{ "x": 5, "y": 3, "name": "Magma Guardian", "sprite": "üî•", "dialogue": ["Almost there! One last hurdle!"], "action": "gate_math_7", "hideOnFlag": "flag_math_7" }]
    },
    "map_8": {
      "layout": [[9,9,9,9,9,9,9,9,9,9,9,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,9,9,9,9,9,9,9,9,0,9],[9,0,9,5,5,5,5,5,5,9,0,9],[9,0,9,5,9,9,9,9,5,9,0,9],[9,0,4,4,4,7,4,4,4,4,0,9],[9,0,9,5,9,9,9,9,5,9,0,9],[9,0,9,5,5,5,5,5,5,9,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],
      "start": { "x": 1, "y": 5 },
      "portals": [],
      "npcs": [{ "x": 5, "y": 5, "name": "Ancient Guardian", "sprite": "üíÄ", "dialogue": ["I have waited eons...", "Defeat me and save the future!"], "action": "gate_boss", "hideOnFlag": "boss_defeated" }]
    }
  },
  "gates": {
    "gate_math_1": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_1" },
    "gate_math_2": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_2" },
    "gate_math_3": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_3" },
    "gate_math_4": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_4" },
    "gate_math_5": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_5" },
    "gate_math_6": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_6" },
    "gate_math_7": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_7" },
    "gate_boss": { 
      "type": "battle", 
      "enemyId": "Shadow King", 
      "enemyName": "Luxy Light Dweller",
      "hp": 1500,
      "damage": 60,
      "enemyImage": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/33.png",
      "onSuccess": "boss_defeated",
      "rewardData": {
        "name": "Luxosaur",
        "type": "luxo_01",
        "rarity": "epic",
        "element": "light",
        "hp": 60,
        "image": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/31.png",
        "imageStyle": "blend-multiply",
        "emoji": "‚ú®",
        "evolutions": [
          { "level": 10, "cost": 100, "baseHP": 120, "rarity": "epic", "element": "light", "image": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/32.png", "imageStyle": "blend-multiply" },
          { "level": 20, "cost": 200, "baseHP": 250, "rarity": "legendary", "element": "light", "image": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/33.png", "imageStyle": "blend-multiply" }
        ]
      }
    }
  }
}
