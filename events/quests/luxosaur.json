{
  "meta": {
    "title": "Luxosaur Chronicles",
    "description": "Travel through time to find the ancient Dinosaur of Light!",
    "status": "active"
  },
  "startMap": "map_1",
  "maps": {
    "map_1": {
      "layout": [
        [9,9,9,9,9,9,9,9,9,9,9,9],
        [9,4,4,4,4,9,4,4,4,4,4,9],
        [9,4,9,9,4,9,4,9,9,9,4,9],
        [9,4,9,9,4,4,4,9,9,9,4,9],
        [9,4,9,9,9,1,9,9,9,9,4,9],
        [9,4,4,4,4,4,4,4,4,4,4,9],
        [9,9,9,9,9,4,9,9,9,9,9,9],
        [9,0,0,0,9,4,9,0,0,0,0,9],
        [9,0,0,0,9,8,9,0,0,0,0,9],
        [9,9,9,9,9,9,9,9,9,9,9,9]
      ],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 5, "y": 8, "toMap": "map_2" }],
      "npcs": [
        { "x": 5, "y": 6, "name": "Dr. Chronos", "sprite": "üë®‚Äçüî¨", "dialogue": ["The Time Machine needs fuel!", "Solve 3 equations to power the rift."], "action": "gate_math_1", "hideOnFlag": "flag_math_1" }
      ]
    },
    "map_2": {
      "layout": [
        [1,1,1,1,1,8,1,1,1,1,1,1],
        [1,4,4,1,4,4,4,4,4,4,4,1],
        [1,4,1,1,1,1,1,1,1,1,4,1],
        [1,4,1,5,5,5,5,5,5,1,4,1],
        [1,4,1,5,1,1,1,1,5,1,4,1],
        [1,4,4,4,1,1,1,1,5,4,4,1],
        [1,1,1,4,1,1,1,1,5,1,1,1],
        [1,4,4,4,5,5,5,5,5,4,4,1],
        [1,4,1,1,1,1,1,1,1,1,4,1],
        [1,1,1,1,1,1,1,1,1,1,1,1]
      ],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 5, "y": 0, "toMap": "map_3" }],
      "npcs": [
        { "x": 5, "y": 1, "name": "Rift Guard", "sprite": "üåë", "dialogue": ["Only a sharp mind can cross the rift!"], "action": "gate_math_2", "hideOnFlag": "flag_math_2" },
        { "x": 9, "y": 5, "name": "Shadow Creeper", "sprite": "üëæ", "dialogue": ["SKREEE!"], "action": "gate_battle_1", "hideOnFlag": "flag_battle_1" }
      ]
    },
    "map_3": {
      "layout": [
        [1,1,1,1,1,1,1,1,1,1,1,1],
    [1,4,4,4,1,1,1,1,4,4,4,1],
    [1,4,1,4,1,1,1,1,4,1,4,1],
    [1,4,1,4,4,4,4,4,4,1,4,1],
    [1,1,1,1,1,4,1,1,1,1,1,1],
    [1,1,1,1,1,4,1,1,1,1,1,1],
    [1,4,4,4,4,4,4,4,4,4,4,1],
    [1,4,1,1,1,1,1,1,1,1,4,1],
    [1,8,1,1,1,1,1,1,1,1,4,1],
    [1,1,1,1,1,1,1,1,1,1,1,1]
      ],
      "start": { "x": 10, "y": 1 },
      "portals": [{ "x": 1, "y": 8, "toMap": "map_4" }],
      "npcs": [
        { "x": 5, "y": 4, "name": "Ice Mammoth", "sprite": "üêò", "dialogue": ["It is too cold to pass.", "Calculate the thermal heat!"], "action": "gate_math_3", "hideOnFlag": "flag_math_3" }
      ]
    },
    "map_4": {
      "layout": [
        [3,3,3,3,3,3,3,3,3,3,3,3],
        [3,0,0,0,3,3,3,3,0,0,0,3],
        [3,0,3,0,3,3,3,3,0,3,0,3],
        [3,0,3,4,4,4,4,4,4,3,0,3],
        [3,3,3,3,3,4,3,3,3,3,3,3],
        [3,3,3,3,3,4,3,3,3,3,3,3],
        [3,4,4,4,4,4,4,4,4,4,4,3],
        [3,4,3,3,3,3,3,3,3,3,4,3],
        [3,8,3,3,3,3,3,3,3,3,4,3],
        [3,3,3,3,3,3,3,3,3,3,3,3]
      ],
      "start": { "x": 10, "y": 1 },
      "portals": [{ "x": 1, "y": 8, "toMap": "map_5" }],
      "npcs": [
        { "x": 5, "y": 4, "name": "Swamp Elf", "sprite": "üßù", "dialogue": ["The water is rising!", "Quick, solve these!"], "action": "gate_math_4", "hideOnFlag": "flag_math_4" }
      ]
    },
    "map_5": {
      "layout": [
        [9,9,9,9,9,9,9,9,9,9,9,9],
        [9,4,4,4,4,4,4,4,4,9,4,9],
        [9,4,9,9,9,9,9,9,9,9,4,9],
        [9,4,4,4,4,4,4,4,4,9,4,9],
        [9,9,9,9,9,9,9,9,4,9,4,9],
        [9,4,4,4,4,4,4,4,4,9,4,9],
        [9,4,9,9,9,9,9,9,9,9,4,9],
        [9,4,4,4,4,4,4,4,4,4,4,9],
        [9,9,9,9,9,9,9,9,9,9,8,9],
        [9,9,9,9,9,9,9,9,9,9,9,9]
      ],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 10, "y": 8, "toMap": "map_6" }],
      "npcs": [
        { "x": 8, "y": 3, "name": "Golems", "sprite": "üóø", "dialogue": ["Rocks block the ridge.", "Answer us!"], "action": "gate_math_5", "hideOnFlag": "flag_math_5" }
      ]
    },
    "map_6": {
      "layout": [
        [2,2,2,2,2,2,2,2,2,2,2,2],
        [2,4,4,4,4,4,4,4,4,4,4,2],
        [2,4,2,2,2,2,2,2,2,2,4,2],
        [2,4,2,0,0,0,0,0,0,2,4,2],
        [2,4,4,4,2,2,2,2,0,2,4,2],
        [2,2,2,4,2,2,2,2,0,2,2,2],
        [2,4,4,4,0,0,0,0,0,4,4,2],
        [2,4,2,2,2,2,2,2,2,2,4,2],
        [2,8,2,2,2,2,2,2,2,2,4,2],
        [2,2,2,2,2,2,2,2,2,2,2,2]
      ],
      "start": { "x": 10, "y": 1 },
      "portals": [{ "x": 1, "y": 8, "toMap": "map_7" }],
      "npcs": [
        { "x": 3, "y": 4, "name": "Vine Monster", "sprite": "üåø", "dialogue": ["The jungle is hungry!"], "action": "gate_battle_2", "hideOnFlag": "flag_battle_2" },
        { "x": 5, "y": 1, "name": "Jungle Scout", "sprite": "üèπ", "dialogue": ["The volcano approach is near."], "action": "gate_math_6", "hideOnFlag": "flag_math_6" }
      ]
    },
    "map_7": {
      "layout": [
        [1,1,1,1,1,1,1,1,1,1,1,1],
        [1,4,4,4,4,4,4,4,4,4,4,1],
        [1,4,9,9,9,4,4,9,9,9,4,1],
        [1,4,4,4,4,4,4,4,4,4,4,1],
        [1,9,9,9,9,4,9,9,9,9,9,1],
        [1,4,4,4,4,4,4,4,4,4,4,1],
        [1,4,9,9,9,9,9,9,9,9,4,1],
        [1,4,4,4,4,4,4,4,4,4,4,1],
        [1,1,1,1,1,1,1,1,1,1,8,1],
        [1,1,1,1,1,1,1,1,1,1,1,1]
      ],
      "start": { "x": 1, "y": 1 },
      "portals": [{ "x": 10, "y": 8, "toMap": "map_8" }],
      "npcs": [
        { "x": 5, "y": 3, "name": "Magma Minion", "sprite": "üî•", "dialogue": ["Hot math coming through!"], "action": "gate_math_7", "hideOnFlag": "flag_math_7" }
      ]
    },
    "map_8": {
      "layout": [
        [9,9,9,9,9,9,9,9,9,9,9,9],
        [9,0,0,0,0,0,0,0,0,0,0,9],
        [9,0,9,9,9,9,9,9,9,9,0,9],
        [9,0,9,5,5,5,5,5,5,9,0,9],
        [9,0,9,5,9,9,9,9,5,9,0,9],
        [9,0,4,4,4,7,4,4,4,4,0,9],
        [9,0,9,5,9,9,9,9,5,9,0,9],
        [9,0,9,5,5,5,5,5,5,9,0,9],
        [9,0,0,0,0,0,0,0,0,0,0,9],
        [9,9,9,9,9,9,9,9,9,9,9,9]
      ],
      "start": { "x": 1, "y": 1 },
      "portals": [],
      "npcs": [
        { "x": 5, "y": 5, "name": "Ancient Guardian", "sprite": "üë∫", "dialogue": ["You seek the Luxosaur?", "Prove your worth!"], "action": "gate_boss" }
      ]
    }
  },
  "gates": {
    "gate_math_1": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_1" },
    "gate_math_2": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_2" },
    "gate_battle_1": { "type": "battle", "enemyId": ["myatt_01", "romzilla_01"], "onSuccess": "flag_battle_1" },
    "gate_math_3": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_3" },
    "gate_math_4": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_4" },
    "gate_math_5": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_5" },
    "gate_battle_2": { "type": "battle", "enemyId": ["jaxire_01", "noahsaur_01"], "onSuccess": "flag_battle_2" },
    "gate_math_6": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_6" },
    "gate_math_7": { "type": "academic_challenge", "questionCount": 3, "onSuccess": "flag_math_7" },
    "gate_boss": { 
      "type": "battle", 
      "enemyId": "Shadow King", 
      "enemyName": "Luxy Light Dweller",
      "hp": 1500,
      "enemyImage": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/33.png",
      "onSuccess": "boss_defeated",
      "rewardData": {
        "name": "Luxosaur",
        "type": "luxo_01",
        "rarity": "epic",
        "element": "light",
        "hp": 60,
        "image": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/31.png",
        "imageStyle": "blend-multiply",
        "emoji": "‚ú®",
        "evolutions": [
          { "level": 10, "cost": 100, "baseHP": 120, "rarity": "epic", "element": "light", "image": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/32.png", "imageStyle": "blend-multiply" },
          { "level": 20, "cost": 200, "baseHP": 250, "rarity": "legendary", "element": "light", "image": "https://raw.githubusercontent.com/rye-ai/MathPetRPG/main/sprite/mons/33.png", "imageStyle": "blend-multiply" }
        ]
      }
    }
  }
}
